{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport path from 'path';\nimport fs from 'fs/promises';\nimport Link from 'next/link';\n\nfunction HomePage(props) {\n  const {\n    products\n  } = props;\n  return /*#__PURE__*/_jsx(\"ul\", {\n    children: products.map(product => /*#__PURE__*/_jsx(\"li\", {\n      children: /*#__PURE__*/_jsx(Link, {\n        href: `/products/${product.id}`,\n        children: product.title\n      })\n    }, product.id))\n  });\n}\n\nexport async function getStaticProps(context) {\n  const filePath = path.join(process.cwd(), 'data', 'dummy-backend.json');\n  const jsonData = await fs.readFile(filePath);\n  const data = JSON.parse(jsonData);\n\n  if (!data) {\n    return {\n      redirect: {\n        destination: '/no-data'\n      }\n    };\n  }\n\n  if (data.products.length === 0) {\n    return {\n      notFound: true\n    };\n  }\n\n  return {\n    props: {\n      products: data.products\n    },\n    revalidate: 10\n  };\n}\nexport default HomePage;","map":null,"metadata":{},"sourceType":"module"}